import{i as B,H as F,j as e,P as w,G as d,v as A,E as u,s as j,Q as g,a4 as $,D as P,z as r,I as _,J as v,K as b,B as y,T as N}from"./ui-DuO7e-Xz.js";import{l as c,I as S,m as V,n as f,o as C}from"./index-C94Z3yln.js";import"./vendor-CjZsb-BP.js";import"./charts-C0VNci4-.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],L=c("outline","chevron-down","ChevronDown",E);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],O=c("outline","chevron-up","ChevronUp",G);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],z=c("outline","filter","Filter",U);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],J=c("outline","search","Search",H);function Y({filters:D={},onFilterChange:h,onClearFilters:I,activeFiltersCount:i=0,isCollapsed:M=!1,onToggleCollapse:K}){B();const[m,{toggle:k}]=F(!M),l={search:"",status:"",dateFrom:null,dateTo:null,valorMin:null,valorMax:null,...D},x=[{value:"",label:"Todos os status"},{value:"PAGO",label:"Pago"},{value:"PENDENTE",label:"Pendente"},{value:"ATRASADO",label:"Atrasado"}],o=(a,s)=>{h(a,s)},p=a=>{h(a,a==="search"?"":null)},R=()=>{I()};return e.jsxs(w,{shadow:"sm",p:"md",radius:"md",children:[e.jsxs(d,{justify:"space-between",mb:"md",children:[e.jsxs(d,{gap:"sm",style:{flex:1},children:[e.jsx(A,{placeholder:"Buscar por proprietário, sítio, endereço...",value:l.search,onChange:a=>o("search",a.target.value),leftSection:e.jsx(J,{size:16}),rightSection:l.search&&e.jsx(u,{size:"sm",variant:"transparent",onClick:()=>p("search"),children:e.jsx(S,{size:14})}),style:{flex:1,maxWidth:400}}),e.jsxs(j,{variant:"light",leftSection:e.jsx(z,{size:16}),rightSection:m?e.jsx(O,{size:16}):e.jsx(L,{size:16}),onClick:k,children:["Filtros",i>0&&e.jsx(g,{size:"sm",color:"blue",ml:"xs",children:i})]})]}),i>0&&e.jsx(j,{variant:"subtle",color:"red",leftSection:e.jsx(V,{size:16}),onClick:R,size:"sm",children:"Limpar filtros"})]}),e.jsxs($,{in:m,children:[e.jsx(P,{mb:"md"}),e.jsxs(r,{gutter:"md",children:[e.jsx(r.Col,{span:{base:12,sm:6,md:3},children:e.jsx(_,{label:"Status do Pagamento",placeholder:"Selecione o status",data:x,value:l.status,onChange:a=>o("status",a),leftSection:e.jsx(z,{size:16})})}),e.jsx(r.Col,{span:{base:12,sm:6,md:3},children:e.jsx(v,{label:"Vencimento de",placeholder:"Data inicial",value:l.dateFrom,onChange:a=>o("dateFrom",a),leftSection:e.jsx(f,{size:16})})}),e.jsx(r.Col,{span:{base:12,sm:6,md:3},children:e.jsx(v,{label:"Vencimento até",placeholder:"Data final",value:l.dateTo,onChange:a=>o("dateTo",a),leftSection:e.jsx(f,{size:16})})}),e.jsx(r.Col,{span:{base:12,sm:6,md:3},children:e.jsx(b,{label:"Valor mínimo",placeholder:"R$ 0,00",value:l.valorMin,onChange:a=>o("valorMin",a),leftSection:e.jsx(C,{size:16}),min:0,decimalScale:2,thousandSeparator:".",decimalSeparator:","})}),e.jsx(r.Col,{span:{base:12,sm:6,md:3},children:e.jsx(b,{label:"Valor máximo",placeholder:"R$ 0,00",value:l.valorMax,onChange:a=>o("valorMax",a),leftSection:e.jsx(C,{size:16}),min:0,decimalScale:2,thousandSeparator:".",decimalSeparator:","})})]}),i>0&&e.jsxs(y,{mt:"md",children:[e.jsx(N,{size:"sm",fw:500,mb:"xs",children:"Filtros ativos:"}),e.jsx(d,{gap:"xs",children:Object.entries(l).map(([a,s])=>{if(!s||s==="")return null;let t="",n=s;switch(a){case"status":t="Status:",n=x.find(T=>T.value===s)?.label||s;break;case"dateFrom":t="De:",n=new Date(s).toLocaleDateString("pt-BR");break;case"dateTo":t="Até:",n=new Date(s).toLocaleDateString("pt-BR");break;case"valorMin":t="Valor min:",n=`R$ ${s.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;break;case"valorMax":t="Valor max:",n=`R$ ${s.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;break;case"search":t="Busca:",n=s;break;default:return null}return e.jsxs(g,{variant:"light",color:"blue",rightSection:e.jsx(u,{size:"xs",variant:"transparent",onClick:()=>p(a),children:e.jsx(S,{size:10})}),children:[t," ",n]},a)})})]})]})]})}export{Y as AdvancedFilters};
